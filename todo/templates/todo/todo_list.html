{% extends 'base.html' %}

{% block content %}
  <div class="flex justify-center items-center min-h-screen">
    <div class="w-full max-w-4xl">
      <h1 class="text-3xl font-bold mb-4 text-center">HtmxTodo</h1>

      <form hx-post="{% url 'todo:add_todo' %}" hx-target="#todo-list" hx-swap="beforeend" class="mb-4">
        {% csrf_token %}
        <div class="flex space-x-2">
          <input type="text" name="title" placeholder="New Task" class="input input-bordered flex-grow" />
          <button type="submit" class="btn btn-primary">Add</button>
        </div>
      </form>

      <table class="table w-full">
        <thead>
          <tr>
            <th class="px-4 py-2">Complete</th>
            <th class="px-4 py-2">Title</th>
            <th class="px-4 py-2">Actions</th>
          </tr>
        </thead>
        <tbody id="todo-list">
          {% for todo in todos %}
            {% include 'todo/todo_item.html' %}
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
{% endblock %}
